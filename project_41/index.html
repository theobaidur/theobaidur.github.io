<html>
	<head>
		<title></title>
		<style type="text/css">
		*{
			margin:0;
			padding:0;
			font-family: arial;
		}

		#calculator_con{
			width: 800px;
			border:#ccc solid 1px;
			margin:10px auto;
			overflow: hidden;
		}

		#calculator_con .title_bar{
			float: left;
			display: block;
			width: 100%;
			height: 30px;
			background-color: #000;
		}

		#calculator_con .title_bar h3{
			font-size: 18px;
			color: #fff;
			text-align: center;
			line-height: 30px;
		}


		#calculator_con .input_row{
			float: left;
			display: block;
			width: 96%;
			padding:5px 2%;
			height: 50px;
		}

		#calculator_con .input_row .input_txt{
			float: left;
			display: inline-block;
			width: 200px;
		}

		#calculator_con .input_row .input_txt span{
			font-size: 14px;
			color: #666;
			line-height: 25px;
			padding-top: 20px;
			display: block;

		}

		#calculator_con .input_row .input_wrapper{
			float: left;
			display: inline-block;
			width: 180px;
		}

		#calculator_con .input_row .input_wrapper p{
			height: 25px;
			line-height: 25px;
			font-size: 12px;
			color: #666;
		}

		#calculator_con .input_row > p{
			height: 25px;
			line-height: 25px;
			font-size: 16px;
			color: #666;
			padding-top: 25px;
			font-weight: bold;	
		}

		#calculator_con .input_row .input_wrapper i{
			display: inline-block;
			width: 15px;
			height: 15px;
			background-color: #EEEEEE;
			padding: 4px;
			color: #000;
			border-radius: 5px 0px 0px 5px;
			border:#ccc solid 1px;
			line-height: 15px;
			font-size: 14px;
			font-style: normal;
			text-align: center;
			font-weight: bold;
			float: left;
		}

		#calculator_con .input_row .input_wrapper input{
			display: inline-block;
			width: 143px;
			padding-left: 5px;
			padding-right: 5px;
			height: 25px;
			border-radius: 0px 5px 5px 0px;
			border:#ccc solid 1px;
			float: left;
			color: #666;
		}

		#calculator_con .input_row .input_wrapper select{
			display: inline-block;
			width: 168px;
			padding-left: 5px;
			padding-right: 5px;
			height: 25px;
			border-radius: 5px;
			border:#ccc solid 1px;
			float: left;
			color: #666;
		}

		#calculator_con .input_row a.calculator_btn{
			font-family: Arial, Helvetica, sans-serif;
			font-size: 14px;
			color: #525252;
			padding: 10px 20px;
			background: -moz-linear-gradient(
				top,
				#ffffff 0%,
				#f0f0f0);
			background: -webkit-gradient(
				linear, left top, left bottom,
				from(#ffffff),
				to(#f0f0f0));
			-moz-border-radius: 0px;
			-webkit-border-radius: 0px;
			border-radius: 0px;
			border: 1px solid #b3b1b1;
			-moz-box-shadow:
				0px 1px 3px rgba(133,140,134,0.5),
				inset 0px 0px 2px rgba(255,255,255,0.7);
			-webkit-box-shadow:
				0px 1px 3px rgba(133,140,134,0.5),
				inset 0px 0px 2px rgba(255,255,255,0.7);
			box-shadow:
				0px 1px 3px rgba(133,140,134,0.5),
				inset 0px 0px 2px rgba(255,255,255,0.7);
			text-shadow:
				0px -1px 0px rgba(181,179,181,0.4),
				0px 1px 0px rgba(250,250,250,0.3);
				text-decoration: none;
				margin: 5px auto;
				display: inline-block;
				cursor: pointer;
		}

		#calculator_con .input_row a.calculator_btn:hover{
			background: #000;
			color: #fff;
		}

		#calculator_con .input_row.align_center{
			text-align: center;
		}




		</style>
	</head>
	<body>
		<div id="calculator_con">
			<div class="calculation_area">
				<div class="title_bar">
					<h3>TimeShare Cost Overview</h3>
				</div>
				<div class="input_row">
					<div class="input_txt">
						<span>Monthly mortgage details : </span>
					</div>
					<div class="input_wrapper">
						<p>Monthly payment amount</p>	
						<i>&#36;</i>
						<input type="text" onkeypress="return isNumberKey(event)" id="monthly_payment_amount">
					</div>
					<div class="input_wrapper">
						<p>Original # of payments</p>
						<i>&#36;</i>
						<input type="text" onkeypress="return isNumberKey(event)" id="original_of_payment">
					</div>
					<div class="input_wrapper input_wrapper_2">
						<p>Downpayment</p>
						<i>&#36;</i>
						<input type="text" onkeypress="return isNumberKey(event)" id="downpayment">
					</div>
				</div>
				<div class="input_row">
					<div class="input_txt">
						<span>Maintainance fees : </span>
					</div>
					<div class="input_wrapper">
						<p>Payment amount</p>	
						<i>&#36;</i>
						<input type="text" onkeypress="return isNumberKey(event)" id="maintainance_fees">
					</div>
					<div class="input_wrapper">
						<p>Frequency paid</p>
						<select id="frequency_paid">
							<option value="12">Monthly</option>
							<option value="2">Bi-annual</option>
							<option value="4">Quarterly</option>
							<option value="1">Annually</option>
						</select>
					</div>
					<div class="input_wrapper input_wrapper_2">
						<p>Expected annual increase</p>
						<i>%</i>
						<input type="text" onkeypress="return isNumberKey(event)" id="annual_increase">
					</div>
				</div>
				<div class="input_row">
					<div class="input_txt">
						<span>Membership dues (RCI/II) : </span>
					</div>
					<div class="input_wrapper">
						<p>Monthly payment amount</p>	
						<i>&#36;</i>
						<input type="text" onkeypress="return isNumberKey(event)" id="membership_dues">
					</div>
					<p>($150 Average annually)</p>
				</div>
				<div class="input_row">
					<div class="input_txt">
						<span>Exchange company dues : </span>
					</div>
					<div class="input_wrapper">
						<p>Monthly payment amount</p>	
						<i>&#36;</i>
						<input type="text" onkeypress="return isNumberKey(event)" id="exchange_company">
					</div>
					<p>($169 Average annually)</p>
				</div>
				
			</div>

			<div class="result_area">
				<div class="title_bar">
					<h3>TimeShare Cost Result</h3>
				</div>
				<div class="input_row">
					<div class="input_txt">
						<span>My current annual obligations : </span>
					</div>
					<div class="input_wrapper">
						<p>&nbsp;</p>	
						<i>&#36;</i>
						<input type="text" disabled="disabled" id="annual_obligation">
					</div>
				</div>
				<div class="input_row">
					<div class="input_txt">
						<span>Mortgage grand total : </span>
					</div>
					<div class="input_wrapper">
						<p>&nbsp;</p>	
						<i>&#36;</i>
						<input type="text" disabled="disabled" id="total_grand_total">
					</div>
				</div>
				<div class="input_row align_center">
					<a onclick="calculate()" class="calculator_btn">Calculate</a>
				</div>
				<div class="input_row align_center">
					<p>Detailed ownership summery</p>
				</div>
				<div class="input_row">
					<div class="input_txt">
						<span>Total cost of ownership : </span>
					</div>
					<div class="input_wrapper">
						<p>10 years</p>	
						<i>&#36;</i>
						<input type="text" disabled="disabled" id="total_10years">
					</div>
					<div class="input_wrapper">
						<p>20 years</p>
						<i>&#36;</i>
						<input type="text" disabled="disabled" id="total_20years">
					</div>
					<div class="input_wrapper input_wrapper_2">
						<p>30 years</p>
						<i>&#36;</i>
						<input type="text" disabled="disabled" id="total_30years">
					</div>
				</div>
				<div class="input_row align_center">
					<a onclick="calculate(1)" class="calculator_btn">Calculate again</a>
				</div>
			</div>
			<script type="text/javascript" src="jquery.js"></script>
			<script type="text/javascript">
			function round_number(num, dec) {
    			return Math.round(num * Math.pow(10, dec)) / Math.pow(10, dec);
			}

			function fineTuneNunmber(num){
				num = round_number(num,2);
				var output = num;
			    if (parseFloat(num)) {
			        input = new String(num); // so you can perform string operations
			        var parts = input.split("."); // remove the decimal part
			        parts[0] = parts[0].split("").reverse().join("").replace(/(\d{3})(?!$)/g, "$1,").split("").reverse().join("");
			        output = parts.join(".");
			    }

			    return output;
			}

			function calculateFees(mortageTotal, membershipDues, exchangeCompanyDeuse, maintainanceFees, increaseRate, years){
				var totalMaintainanceFees = maintainanceFees;
				var totalFees = 0;
				for(i=0;i<years;i++){
					totalMaintainanceFees = totalMaintainanceFees + (totalMaintainanceFees*increaseRate);
					totalFees += round_number(totalMaintainanceFees,2);
				}

				var totalMembership = membershipDues;
				var t = 0;
				for(i=0;i<years;i++){
					totalMembership = totalMembership + (totalMembership*increaseRate);
					t += round_number(totalMembership,2);
				}

				var tt = exchangeCompanyDeuse;
				var ttt = 0;
				for(i=0;i<years;i++){
					tt = tt + (tt*increaseRate);
					ttt += round_number(tt,2);
				}


				return mortageTotal+ t+ttt+totalFees;

			}	

			function calculate(isSecond){
				
				var monthly_payment_amount = jQuery("#monthly_payment_amount").val();
				var original_of_payment = jQuery("#original_of_payment").val();
				var downpayment = jQuery("#downpayment").val();
				var maintainance_fees=jQuery("#maintainance_fees").val();
				var frequency_paid = jQuery("#frequency_paid option:selected").val();
				var annual_increase = jQuery("#annual_increase").val();
				var membership_dues = jQuery("#membership_dues").val();
				var exchange_company = jQuery("#exchange_company").val();


				monthly_payment_amount = jQuery.trim(monthly_payment_amount)!=''?parseFloat(monthly_payment_amount):0;
				original_of_payment = jQuery.trim(original_of_payment)!=''?parseFloat(original_of_payment):0;
				downpayment = jQuery.trim(downpayment)!=''?parseFloat(downpayment):0;
				maintainance_fees = jQuery.trim(maintainance_fees)!=''?parseFloat(maintainance_fees):0;
				frequency_paid = jQuery.trim(frequency_paid)!=''?parseFloat(frequency_paid):0;
				membership_dues = jQuery.trim(membership_dues)!=''?parseFloat(membership_dues):0;
				exchange_company = jQuery.trim(exchange_company)!=''?parseFloat(exchange_company):0;
				annual_increase = jQuery.trim(annual_increase)!=''?(parseFloat(annual_increase)/100):0;
				
				var mortgage_grand_total = (monthly_payment_amount*original_of_payment)+downpayment;
				var annual_maintainance_fees = maintainance_fees*frequency_paid;
				var annual_obligation = (monthly_payment_amount*12)+annual_maintainance_fees+membership_dues+exchange_company;

				var total_10years = calculateFees(mortgage_grand_total, membership_dues, exchange_company, annual_maintainance_fees, annual_increase, 10);

				var total_20years = calculateFees(mortgage_grand_total, membership_dues, exchange_company, annual_maintainance_fees, annual_increase, 20);

				var total_30years = calculateFees(mortgage_grand_total, membership_dues, exchange_company, annual_maintainance_fees, annual_increase, 30);

				if(isSecond){
					jQuery("#total_10years").val(fineTuneNunmber(total_10years));
					jQuery("#total_20years").val(fineTuneNunmber(total_20years));
					jQuery("#total_30years").val(fineTuneNunmber(total_30years));				
				}else{
					jQuery("#annual_obligation").val(fineTuneNunmber(annual_obligation));
					jQuery("#total_grand_total").val(fineTuneNunmber(mortgage_grand_total));

				}

			}

			function calculateAgain(){
				
			}

			function isNumberKey(evt)
		       {
		          var charCode = (evt.which) ? evt.which : evt.keyCode
		          if (charCode != 46 && charCode > 31 
		            && (charCode < 48 || charCode > 57)){
		          	alert("Number & decimal points only");
		             return false;
		            }
		 
		          return true;
		       }
			</script>

		</div>
	</body>
</html>